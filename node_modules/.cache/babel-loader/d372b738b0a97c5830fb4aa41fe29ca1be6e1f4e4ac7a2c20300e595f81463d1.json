{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apoli\\\\OneDrive\\\\Documentos\\\\Programaci\\xF3n\\\\React - The Complete Guide\\\\2_AlgoExpertReact\\\\ForkyApp\\\\src\\\\components\\\\HeaderComponents\\\\Searcher.js\",\n  _s = $RefreshSig$();\nimport classes from './Searcher.module.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMagnifyingGlass } from '@fortawesome/free-solid-svg-icons';\nimport { useState, useRef, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { mealsActions } from '../../redux/meals';\nimport SearchResultsList from './SearchResultsList';\nimport useHttp from '../../hooks/use-http';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst glass = /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n  className: classes.search,\n  icon: faMagnifyingGlass\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 11,\n  columnNumber: 15\n}, this);\nconst queries = ['carrot', 'broccoli', 'asparagus', 'cauliflower', 'corn', 'cucumber', 'green pepper', 'lettuce', 'mushrooms', 'onion', 'potato', 'pumpkin', 'red pepper', 'tomato', 'beetroot', 'brussel sprouts', 'peas', 'zucchini', 'radish', 'sweet potato', 'artichoke', 'leek', 'cabbage', 'celery', 'garlic', 'basil', 'coriander', 'parsley', 'dill', 'rosemary', 'oregano', 'cinnamon', 'saffron', 'green bean', 'bean', 'chickpea', 'lentil', 'apple', 'apricot', 'avocado', 'banana', 'blackberry', 'blackcurrant', 'blueberry', 'boysenberry', 'cherry', 'coconut', 'fig', 'grape', 'grapefruit', 'kiwifruit', 'lemon', 'lime', 'lychee', 'mandarin', 'mango', 'melon', 'nectarine', 'orange', 'papaya', 'passion fruit', 'peach', 'pear', 'pineapple', 'plum', 'pomegranate', 'quince', 'raspberry', 'strawberry', 'watermelon', 'salad', 'pizza', 'pasta', 'popcorn', 'lobster', 'steak', 'bbq', 'pudding', 'hamburger', 'pie', 'cake', 'sausage', 'tacos', 'kebab', 'poutine', 'seafood', 'chips', 'fries', 'masala', 'paella', 'som tam', 'chicken', 'toast', 'marzipan', 'tofu', 'ketchup', 'hummus', 'chili', 'maple syrup', 'parma ham', 'fajitas', 'champ', 'lasagna', 'poke', 'chocolate', 'croissant', 'arepas', 'bunny chow', 'pierogi', 'donuts', 'rendang', 'sushi', 'ice cream', 'duck', 'curry', 'beef', 'goat', 'lamb', 'turkey', 'pork', 'fish', 'crab', 'bacon', 'ham', 'pepperoni', 'salami', 'ribs'];\nfunction Searcher() {\n  _s();\n  const [input, setInput] = useState('');\n  const [filterQueries, setFilterQueries] = useState([...queries]);\n  const [isFocusInput, setIsFocusInput] = useState(false);\n  const searcherRef = useRef(null);\n  const {\n    error,\n    sendRequest\n  } = useHttp();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(mealsActions.addRefsToTutorial({\n      searcher: searcherRef.current\n    }));\n    dispatch(mealsActions.executeStepsToTutorial({\n      setInput: setInput,\n      searchRecipe: searchRecipe\n    }));\n  }, [dispatch]);\n  const handleSearch = event => {\n    const inputValue = event.target.value;\n    setIsFocusInput(true);\n    setInput(inputValue);\n    setFilterQueries(() => {\n      let filteredQueries = [];\n      queries.forEach(word => {\n        for (let i = 0; i < word.length; i++) {\n          const char = word[i];\n          if (char !== inputValue[i]) break;\n          if (inputValue.length - 1 === i) filteredQueries.push(word);\n        }\n      });\n      return filteredQueries;\n    });\n  };\n  const handleFocusIn = () => {\n    const event = {\n      target: {\n        value: input\n      }\n    };\n    handleSearch(event);\n  };\n  const searchRecipe = event => {\n    if (event !== null) event.preventDefault();\n    sendRequest({\n      url: `https://forkify-api.herokuapp.com/api/v2/recipes?search=${input}&key=4921d73e-5fc2-47b6-90a8-dfe1ae39f7cc`\n    }, data => dispatch(mealsActions.addfetchedMeals({\n      data: data,\n      error: error\n    })), isLoading => dispatch(mealsActions.addfetchedMeals({\n      isLoading: isLoading\n    })));\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    ref: searcherRef,\n    className: classes.form,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      value: input,\n      onFocus: handleFocusIn,\n      onChange: handleSearch,\n      className: classes.input,\n      placeholder: \"Search your favorite recipe\",\n      type: \"text\",\n      id: \"site-search\",\n      autoComplete: \"off\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: classes.button,\n      onClick: searchRecipe,\n      children: [glass, \" SEARCH\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), input === '' || filterQueries.length === 0 || !isFocusInput ? '' : /*#__PURE__*/_jsxDEV(SearchResultsList, {\n      filteredQueries: filterQueries,\n      setIsFocusInput: setIsFocusInput,\n      setInput: setInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n_s(Searcher, \"KaAs42qSDoN0iKqUosOsgYQpyRg=\", false, function () {\n  return [useHttp, useDispatch];\n});\n_c = Searcher;\nexport default Searcher;\nvar _c;\n$RefreshReg$(_c, \"Searcher\");","map":{"version":3,"names":["classes","FontAwesomeIcon","faMagnifyingGlass","useState","useRef","useEffect","useDispatch","useSelector","mealsActions","SearchResultsList","useHttp","jsxDEV","_jsxDEV","glass","className","search","icon","fileName","_jsxFileName","lineNumber","columnNumber","queries","Searcher","_s","input","setInput","filterQueries","setFilterQueries","isFocusInput","setIsFocusInput","searcherRef","error","sendRequest","dispatch","addRefsToTutorial","searcher","current","executeStepsToTutorial","searchRecipe","handleSearch","event","inputValue","target","value","filteredQueries","forEach","word","i","length","char","push","handleFocusIn","preventDefault","url","data","addfetchedMeals","isLoading","ref","form","children","onFocus","onChange","placeholder","type","id","autoComplete","button","onClick","_c","$RefreshReg$"],"sources":["C:/Users/apoli/OneDrive/Documentos/Programaci√≥n/React - The Complete Guide/2_AlgoExpertReact/ForkyApp/src/components/HeaderComponents/Searcher.js"],"sourcesContent":["import classes from './Searcher.module.css';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faMagnifyingGlass } from '@fortawesome/free-solid-svg-icons'\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { mealsActions } from '../../redux/meals';\r\nimport SearchResultsList from './SearchResultsList';\r\nimport useHttp from '../../hooks/use-http';\r\n\r\nconst glass = <FontAwesomeIcon className={classes.search} icon={faMagnifyingGlass} />\r\nconst queries = ['carrot', 'broccoli', 'asparagus', 'cauliflower', 'corn', 'cucumber', 'green pepper', 'lettuce', 'mushrooms', 'onion', 'potato', 'pumpkin', 'red pepper', 'tomato', 'beetroot', 'brussel sprouts', 'peas', 'zucchini', 'radish', 'sweet potato', 'artichoke', 'leek', 'cabbage', 'celery', 'garlic', 'basil', 'coriander', 'parsley', 'dill', 'rosemary', 'oregano', 'cinnamon', 'saffron', 'green bean', 'bean', 'chickpea', 'lentil', 'apple', 'apricot', 'avocado', 'banana', 'blackberry', 'blackcurrant', 'blueberry', 'boysenberry', 'cherry', 'coconut', 'fig', 'grape', 'grapefruit', 'kiwifruit', 'lemon', 'lime', 'lychee', 'mandarin', 'mango', 'melon', 'nectarine', 'orange', 'papaya', 'passion fruit', 'peach', 'pear', 'pineapple', 'plum', 'pomegranate', 'quince', 'raspberry', 'strawberry', 'watermelon', 'salad', 'pizza', 'pasta', 'popcorn', 'lobster', 'steak', 'bbq', 'pudding', 'hamburger', 'pie', 'cake', 'sausage', 'tacos', 'kebab', 'poutine', 'seafood', 'chips', 'fries', 'masala', 'paella', 'som tam', 'chicken', 'toast', 'marzipan', 'tofu', 'ketchup', 'hummus', 'chili', 'maple syrup', 'parma ham', 'fajitas', 'champ', 'lasagna', 'poke', 'chocolate', 'croissant', 'arepas', 'bunny chow', 'pierogi', 'donuts', 'rendang', 'sushi', 'ice cream', 'duck', 'curry', 'beef', 'goat', 'lamb', 'turkey', 'pork', 'fish', 'crab', 'bacon', 'ham', 'pepperoni', 'salami', 'ribs'];\r\n\r\nfunction Searcher(){\r\n    const [input, setInput] = useState('');\r\n    const [filterQueries, setFilterQueries] = useState([...queries]);\r\n    const [isFocusInput, setIsFocusInput] = useState(false);\r\n\r\n    \r\n    const searcherRef = useRef(null);\r\n    const {error, sendRequest} = useHttp();\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch(mealsActions.addRefsToTutorial({searcher: searcherRef.current}));\r\n        dispatch(mealsActions.executeStepsToTutorial({setInput: setInput, searchRecipe: searchRecipe}));\r\n\r\n    }, [dispatch]);\r\n\r\n    const handleSearch = (event) => {\r\n        const inputValue = event.target.value;\r\n        setIsFocusInput(true)\r\n        setInput(inputValue);\r\n        setFilterQueries(() => {\r\n            let filteredQueries = [];\r\n\r\n            queries.forEach((word) => {\r\n                for (let i = 0; i < word.length; i++) {\r\n                    const char = word[i];\r\n                    if(char !== inputValue[i]) break;\r\n                    if(inputValue.length - 1 === i) filteredQueries.push(word);\r\n                }\r\n            });\r\n            return filteredQueries;\r\n        });\r\n    }    \r\n\r\n    const handleFocusIn = () => {\r\n        const event = {target: {value: input}};\r\n        handleSearch(event);\r\n    }\r\n\r\n    const searchRecipe = (event) => {\r\n        if(event !== null) event.preventDefault();\r\n        sendRequest(\r\n            {url: `https://forkify-api.herokuapp.com/api/v2/recipes?search=${input}&key=4921d73e-5fc2-47b6-90a8-dfe1ae39f7cc`}, \r\n            (data) => dispatch(mealsActions.addfetchedMeals({data: data, error: error})),\r\n            (isLoading) => dispatch(mealsActions.addfetchedMeals({isLoading: isLoading}))\r\n        );\r\n    }\r\n\r\n    return (\r\n        <form ref={searcherRef} className={classes.form}>\r\n            <input value={input} onFocus={handleFocusIn} onChange={handleSearch} className={classes.input} placeholder='Search your favorite recipe' type='text' id='site-search' autoComplete=\"off\"></input>\r\n            <button className={classes.button} onClick={searchRecipe}>{glass} SEARCH</button>\r\n            {input === '' || filterQueries.length === 0 || !isFocusInput ? '' : \r\n            <SearchResultsList \r\n                filteredQueries={filterQueries} \r\n                setIsFocusInput={setIsFocusInput} \r\n                setInput={setInput}\r\n            />}    \r\n        </form>\r\n    );\r\n}\r\n\r\nexport default Searcher;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}