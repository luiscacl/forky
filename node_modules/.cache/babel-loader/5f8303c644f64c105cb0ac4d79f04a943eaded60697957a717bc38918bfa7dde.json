{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apoli\\\\OneDrive\\\\Documentos\\\\Programaci\\xF3n\\\\React - The Complete Guide\\\\2_AlgoExpertReact\\\\ForkyApp\\\\src\\\\components\\\\HeaderComponents\\\\Searcher.js\",\n  _s = $RefreshSig$();\nimport classes from './Searcher.module.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMagnifyingGlass } from '@fortawesome/free-solid-svg-icons';\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { mealsActions } from '../../redux/meals';\nimport SearchResultsList from './SearchResultsList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst glass = /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n  className: classes.search,\n  icon: faMagnifyingGlass\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 15\n}, this);\nconst queries = ['carrot', 'broccoli', 'asparagus', 'cauliflower', 'corn', 'cucumber', 'green pepper', 'lettuce', 'mushrooms', 'onion', 'potato', 'pumpkin', 'red pepper', 'tomato', 'beetroot', 'brussel sprouts', 'peas', 'zucchini', 'radish', 'sweet potato', 'artichoke', 'leek', 'cabbage', 'celery', 'chili', 'garlic', 'basil', 'coriander', 'parsley', 'dill', 'rosemary', 'oregano', 'cinnamon', 'saffron', 'green bean', 'bean', 'chickpea', 'lentil', 'apple', 'apricot', 'avocado', 'banana', 'blackberry', 'blackcurrant', 'blueberry', 'boysenberry', 'cherry', 'coconut', 'fig', 'grape', 'grapefruit', 'kiwifruit', 'lemon', 'lime', 'lychee', 'mandarin', 'mango', 'melon', 'nectarine', 'orange', 'papaya', 'passion fruit', 'peach', 'pear', 'pineapple', 'plum', 'pomegranate', 'quince', 'raspberry', 'strawberry', 'watermelon', 'salad', 'pizza', 'pasta', 'popcorn', 'lobster', 'steak', 'bbq', 'pudding', 'hamburger', 'pie', 'cake', 'sausage', 'tacos', 'kebab', 'poutine', 'seafood', 'chips', 'fries', 'masala', 'paella', 'som tam', 'chicken', 'toast', 'marzipan', 'tofu', 'ketchup', 'hummus', 'chili', 'maple syrup', 'parma ham', 'fajitas', 'champ', 'lasagna', 'poke', 'chocolate', 'croissant', 'arepas', 'bunny chow', 'pierogi', 'donuts', 'rendang', 'sushi', 'ice cream', 'duck', 'curry', 'beef', 'goat', 'lamb', 'turkey', 'pork', 'fish', 'crab', 'bacon', 'ham', 'pepperoni', 'salami', 'ribs'];\nfunction Searcher() {\n  _s();\n  const [input, setInput] = useState('');\n  const [filterQueries, setFilterQueries] = useState([...queries]);\n  const [isFocusInput, setIsFocusInput] = useState(false);\n  const {\n    meals\n  } = useSelector(state => state.meals);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(mealsActions.addMeals(filterQueries));\n    console.log(meals);\n  }, [filterQueries, dispatch, meals]);\n  const handleSearch = event => {\n    const inputValue = event.target.value;\n    setIsFocusInput(true);\n    setInput(inputValue);\n    setFilterQueries(() => {\n      let filteredQueries = [];\n      queries.forEach(word => {\n        for (let i = 0; i < word.length; i++) {\n          const char = word[i];\n          if (char !== inputValue[i]) break;\n          if (inputValue.length - 1 === i) filteredQueries.push(word);\n        }\n      });\n      return filteredQueries;\n    });\n  };\n\n  // document.onclick\n  const handleFocusOut = resultsListRef => {\n    if (resultsListRef) setIsFocusInput(true);else setIsFocusInput(false);\n    console.log(resultsListRef);\n    console.log('out');\n  };\n  const handleFocusIn = () => {\n    setIsFocusInput(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: classes.form,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      value: input,\n      onFocus: handleFocusIn,\n      onBlur: handleFocusOut.bind(null),\n      onChange: handleSearch,\n      className: classes.input,\n      placeholder: \"Search your favorite recipe\",\n      type: \"text\",\n      id: \"site-search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: classes.button,\n      children: [glass, \" SEARCH\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), input === '' || filterQueries.length === 0 || !isFocusInput ? '' : /*#__PURE__*/_jsxDEV(SearchResultsList, {\n      filteredQueries: filterQueries,\n      onHandleFocusOut: handleFocusOut\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 81\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n_s(Searcher, \"xjope/bIlefT9lrnXLJYSXgVHcc=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = Searcher;\nexport default Searcher;\nvar _c;\n$RefreshReg$(_c, \"Searcher\");","map":{"version":3,"names":["classes","FontAwesomeIcon","faMagnifyingGlass","useEffect","useState","useDispatch","useSelector","mealsActions","SearchResultsList","jsxDEV","_jsxDEV","glass","className","search","icon","fileName","_jsxFileName","lineNumber","columnNumber","queries","Searcher","_s","input","setInput","filterQueries","setFilterQueries","isFocusInput","setIsFocusInput","meals","state","dispatch","addMeals","console","log","handleSearch","event","inputValue","target","value","filteredQueries","forEach","word","i","length","char","push","handleFocusOut","resultsListRef","handleFocusIn","form","children","onFocus","onBlur","bind","onChange","placeholder","type","id","button","onHandleFocusOut","_c","$RefreshReg$"],"sources":["C:/Users/apoli/OneDrive/Documentos/Programaci√≥n/React - The Complete Guide/2_AlgoExpertReact/ForkyApp/src/components/HeaderComponents/Searcher.js"],"sourcesContent":["import classes from './Searcher.module.css';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faMagnifyingGlass } from '@fortawesome/free-solid-svg-icons'\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { mealsActions } from '../../redux/meals';\r\nimport SearchResultsList from './SearchResultsList';\r\nconst glass = <FontAwesomeIcon className={classes.search} icon={faMagnifyingGlass} />\r\n\r\n\r\nconst queries = ['carrot', 'broccoli', 'asparagus', 'cauliflower', 'corn', 'cucumber', 'green pepper', 'lettuce', 'mushrooms', 'onion', 'potato', 'pumpkin', 'red pepper', 'tomato', 'beetroot', 'brussel sprouts', 'peas', 'zucchini', 'radish', 'sweet potato', 'artichoke', 'leek', 'cabbage', 'celery', 'chili', 'garlic', 'basil', 'coriander', 'parsley', 'dill', 'rosemary', 'oregano', 'cinnamon', 'saffron', 'green bean', 'bean', 'chickpea', 'lentil', 'apple', 'apricot', 'avocado', 'banana', 'blackberry', 'blackcurrant', 'blueberry', 'boysenberry', 'cherry', 'coconut', 'fig', 'grape', 'grapefruit', 'kiwifruit', 'lemon', 'lime', 'lychee', 'mandarin', 'mango', 'melon', 'nectarine', 'orange', 'papaya', 'passion fruit', 'peach', 'pear', 'pineapple', 'plum', 'pomegranate', 'quince', 'raspberry', 'strawberry', 'watermelon', 'salad', 'pizza', 'pasta', 'popcorn', 'lobster', 'steak', 'bbq', 'pudding', 'hamburger', 'pie', 'cake', 'sausage', 'tacos', 'kebab', 'poutine', 'seafood', 'chips', 'fries', 'masala', 'paella', 'som tam', 'chicken', 'toast', 'marzipan', 'tofu', 'ketchup', 'hummus', 'chili', 'maple syrup', 'parma ham', 'fajitas', 'champ', 'lasagna', 'poke', 'chocolate', 'croissant', 'arepas', 'bunny chow', 'pierogi', 'donuts', 'rendang', 'sushi', 'ice cream', 'duck', 'curry', 'beef', 'goat', 'lamb', 'turkey', 'pork', 'fish', 'crab', 'bacon', 'ham', 'pepperoni', 'salami', 'ribs'];\r\n\r\n\r\nfunction Searcher(){\r\n    const [input, setInput] = useState('');\r\n    const [filterQueries, setFilterQueries] = useState([...queries]);\r\n    const [isFocusInput, setIsFocusInput] = useState(false);\r\n\r\n    const { meals } = useSelector(state => state.meals);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(mealsActions.addMeals(filterQueries));\r\n        console.log(meals)\r\n\r\n    }, [filterQueries, dispatch, meals]);\r\n\r\n    const handleSearch = (event) => {\r\n        const inputValue = event.target.value;\r\n        setIsFocusInput(true)\r\n        setInput(inputValue);\r\n        setFilterQueries(() => {\r\n            let filteredQueries = [];\r\n\r\n            queries.forEach((word) => {\r\n                for (let i = 0; i < word.length; i++) {\r\n                    const char = word[i];\r\n                    if(char !== inputValue[i]) break;\r\n                    if(inputValue.length - 1 === i) filteredQueries.push(word);\r\n                }\r\n            });\r\n            return filteredQueries;\r\n        });\r\n    }\r\n\r\n    // document.onclick\r\n    const handleFocusOut = (resultsListRef) => {\r\n        if(resultsListRef) setIsFocusInput(true);\r\n        else setIsFocusInput(false)\r\n        console.log(resultsListRef)\r\n        console.log('out')\r\n    }\r\n\r\n    const handleFocusIn = () => {\r\n        setIsFocusInput(true);\r\n    }\r\n\r\n    return (\r\n        <form className={classes.form}>\r\n            <input value={input} onFocus={handleFocusIn} onBlur={handleFocusOut.bind(null,)} onChange={handleSearch} className={classes.input} placeholder='Search your favorite recipe' type='text' id='site-search'></input>\r\n            <button className={classes.button}>{glass} SEARCH</button>\r\n            {input === '' || filterQueries.length === 0 || !isFocusInput ? '' : <SearchResultsList filteredQueries={filterQueries} onHandleFocusOut={handleFocusOut}/>}    \r\n        </form>\r\n    );\r\n}\r\n\r\nexport default Searcher;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}